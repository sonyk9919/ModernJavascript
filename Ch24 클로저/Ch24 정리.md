# 클로저란?

생명주기를 다한, 실행이 완료되어 실행 컨텍스트 스택에서 제거된 함수 내부의 변수가 중첩 함수를 통해 참조가 가능한 경우 즉, 외부 함수보다 중첩함수가 더 오래 유지되는 경우 그 중첩 함수를 클로저라고 한다.

## 클로저가 발생하는 이유는?

실행 컨텍스트 스택에서 제거되었다고 해서, 생명주기가 끝났다고 해서, 반드시 렉시컬 환경까지 소멸하는 것은 아니기 때문이다. 클로저의 내부 슬롯에 의해 외부 함수의 렉시컬 환경이 참조되고 있기 때문에 가비지 컬렉터에 의해 메모리 공간이 해제되지 않기 때문이다.

### 그럼 모든 중첩함수는 외부함수의 렉시컬 환경을 참조하니까 모든 함수는 클로저 인가?

그렇지는 않다. 중첩함수가 외부함수 즉, 상위 스코프의 변수를 참조하지 않는 경우에는 클로저라고 하지 않는다.

## 클로저는 왜 사용하는 가?

아래와 같이 상태를 안전하게 변경하고 유지하기 위해 사용한다.

```
const increase = (function () {
    const num = 0;
    return funtion() {
        return ++num;
    }
}())

console.log(increase()) // 1;
console.log(increase()) // 2;
console.log(increase()) // 3;
```
