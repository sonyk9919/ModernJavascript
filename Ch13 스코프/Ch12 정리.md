# 스코프란?

변수(식별자)의 유효범위를 의미한다. 스코프는 전역 스코프와 지역 스코프로 구분되며 변수 이름이 중복될 경우 가까운 스코프에 선언된 변수를 선택하게 되며, 외부 스코프에서 내부 스코프의 변수를 참조할 수 없지만 역은 가능하다.

## 스코프 체인

변수를 참조할 때 스코프 체인을 통해 변수를 참조하는 코드의 스코프에서 시작하여 상위 스코프 방향으로 이동하며 선언된 변수를 검색한다. 하위에서 상위로 가는 단방향 체인이기 때문에 위에서 설명한 것과 같이 상위 스코프에서는 하위 스코프의 변수를 검색할 수 없다.

# 다양한 스코프

## 함수 레벨 스코프와 블록 레벨 스코프

Javascript의 var은 if, while, for문 안에서 값을 변경하면 전역 스코프에서 변경된 값이 사용가능 하지만 ES6의 도입 이후로 let, const는 블록 레벨 스코프를 지원하게 되었다. 따라서 if, while, for문에서 let, const를 이용하여 값을 변경하더라도 전역 스코프에서는 검색 불가능하다.

## 렉시컬 스코프

```
var x = 1;

function foo() {
    var x = 10;
    bar();
}

function bar() {
    console.log(x)
}

foo(); // (1)
bar(); // (2)
```

를 실행하게 되면 (1): 10, (2): 1을 도출할 것 같지만 (1): 1 (2): 1을 도출하게 된다. 그 이유는 자바스크립트는 어디서 함수가 실행되었는 지가 아닌 **어디서 함수가 정의되었는 지에 따라 상위 스코프를 결정하기 때문이다.** bar는 전역 스코프에서 선언 되었기 때문에 스코프는 전역 스코프 만이 존재한다. 만약

```
var x = 1;
function foo() {
    var x = 10;
    function bar() {
        console.log(x);
    }
}
```

와 같이 선언 한다면 bar의 스코프는 (x = 10) => (x = 1)이 되므로 전혀 다른 결과가 도출될 것을 예측할 수 있다.
